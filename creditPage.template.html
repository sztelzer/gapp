<md-content credit-element flex ng-cloak layout="column" layout-padding>


		<div flex="none" layout="column" class="md-caption" ng-cloak ng-show="credit.count > 0">
			Escolha o cartão que você quer utilizar.
		</div>

		<div flex="none" layout="row" ng-show="credit.count > 0">
			<div flex class="md-caption">Final</div>
			<div flex class="md-caption">Validade</div>
			<div flex></div>
			<div flex></div>
		</div>

		<md-card flex="none" layout="row" class="card-credit card-tag md-whiteframe-8dp" ng-repeat="card in credit.list track by card.created">
			<div flex layout="row">
				<div flex layout="column">
					<div class="md-body-2">{{card.number}}</div>
				</div>
				<div flex layout="column">
					<div class="md-body-2">{{card.expiry}}</div>
				</div>
			</div>

			<div flex layout="row" layout-align="end center">
				<div flex ng-cloak>
					<md-button class="card-action" style="color:red" ng-click="credit.remove(card.created)">Deletar</md-button>
				</div>

				<div flex ng-cloak>
					<md-button class="md-accent card-action" ng-click="credit.setActive(card.created)" ng-show="credit.active != card.created">Ativar</md-button>
					<md-button class="card-action" ng-show="credit.active == card.created">Ativo</md-button>
				</div>
			</div>

		</md-card>




		<md-card flex="none" class="card-credit card-tag md-whiteframe-8dp">

			<div flex="none" layout="column" ng-cloak>
				<span class="md-body-2">Adicionar cartão.</span>
				<span class="md-caption" ng-show="credit.count == 0">Registre um novo cartão de crédito para utilizar em suas compras.</span>
				<span class="md-caption" ng-hide="credit.free">Você pode ter no máximo 3 cartões salvos. Delete um cartão para cadastrar outro.</span>
			</div>

			<form name="creditForm" flex="none" layout="column" ng-show="credit.free" ng-cloak>
				<md-input-container>
					<label>Número do Cartão</label>
					<input type="tel" name="number" ng-model="credit.number" payments-validate="card" payments-format="card" payments-type-model="type" ng-class='creditForm.number.$card.type' ng-required="true" required/>
				</md-input-container>

				<div layout="row">
					<md-input-container>
						<label>Validade</label>
						<input type="tel" ng-model="credit.expiry" payments-validate="expiry" payments-format="expiry" ng-required="true" required/>
					</md-input-container>

					<md-input-container>
						<label>Código de Segurança</label>
						<input type="tel" ng-model="credit.cvc" payments-validate="cvc" payments-format="cvc" ng-required="true" required payments-type-model="type"/>
					</md-input-container>
				</div>

				<!-- <md-input-container>
					<label>Nome Portador</label>
					<input type="text" ng-model="credit.holder" minlength="5" maxlength="40" ng-required="true" required/>
				</md-input-container> -->
				<div style="width:100%; height:5em" layout="row" layout-align="space-around center">
					<md-button class="md-raised md-accent wider" ng-click="credit.new()" ng-disabled="creditForm.$invalid">Inserir Cartão</md-button>
				</div>

			</form>
		</md-card>


</md-content>
